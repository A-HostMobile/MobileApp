<ion-header>
  <ion-navbar>
    <ion-title>Courier Booking</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <ion-grid no-padding>
    <ion-row no-padding>
      <ion-col col-5 no-padding>
        <ion-label no-padding text-wrap class="label-title">Pickup Address</ion-label>
      </ion-col>
      <ion-col col-7 no-padding>
        <button *ngIf="pickupadd==null" (click)="openPickupModal();" color="calm" ion-button outline item-right class="select-button" block small>Select</button>
        <button *ngIf="pickupadd!=null" (click)="openPickupModal();" color="calm" ion-button outline item-right class="select-button" block small>
          <div>{{pickupadd}}</div>
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-badge [hidden]="pickupadd!=null" *ngIf="!pick" float-end>Address is required</ion-badge>
  <form [formGroup]="courier" (ngSubmit)="toCourier2(courier)">
    <ion-input [hidden]="true"  [(ngModel)]="bookin" formControlName="booking" [value]="courier.value.booking"></ion-input>
    <ion-input [hidden]="true"  [(ngModel)]="picku" formControlName="pickup"></ion-input>
    <ion-row>&nbsp;</ion-row>
    <ion-list no-padding no-lines>
      <ion-list-header class="label-title">
        Destination
      </ion-list-header>


      <ion-grid no-padding>
        <ion-row no-padding>
          <ion-col col-45 no-padding>
            <ion-label no-padding text-wrap class="label-title">Consignee Name</ion-label>
          </ion-col>
          <ion-col col-7 no-padding>
            <ion-input [(ngModel)]="conna" formControlName="conname" type="text" placeholder="Consignee Name"></ion-input>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-badge ion-text [hidden]="conname.valid || conname.untouched" *ngIf="conname.touched" float-end>Consignee Name is required</ion-badge>

      <ion-grid no-padding>
        <ion-row no-padding>
          <ion-col col-45 no-padding>
            <ion-label no-padding text-wrap class="label-title">Address</ion-label>
          </ion-col>
          <ion-col col-7 no-padding>
            <ion-input [(ngModel)]="addr" formControlName="address" type="text" placeholder="Address"></ion-input>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-badge ion-text [hidden]="address.valid || address.untouched" *ngIf="address.hasError('required') && address.touched" float-end>Address is required</ion-badge>


      <ion-grid no-padding>
        <ion-row no-padding>
          <ion-col col-45 no-padding>
            <ion-label no-padding text-wrap class="label-title">Country</ion-label>
          </ion-col>
          <ion-col col-7 no-padding>
            <ion-item no-lines>
              <ion-label hidden>Select Country</ion-label>
              <ion-select class="max-width-100" [(ngModel)]="countr" formControlName="country" (ionCancel)="touch()"  placeholder="Please Select">
                <ion-option *ngFor="let country of countries" [value]="country.cz_destination">{{country.cz_destination}}</ion-option>
              </ion-select>
            </ion-item>

          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-badge ion-text *ngIf="submitted" [hidden]="courier.value.country!=null" float-end>Please select country</ion-badge>

      <ion-grid no-padding>
        <ion-row no-padding>
          <ion-col col-45 no-padding>
            <ion-label no-padding text-wrap class="label-title">Zip Code</ion-label>
          </ion-col>
          <ion-col col-7 no-padding>
            <ion-input [(ngModel)]="zipcod" formControlName="zipcode" type="text" placeholder="Zip code"></ion-input>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-grid no-padding>
        <ion-row no-padding>
          <ion-col col-45 no-padding>
            <ion-label no-padding text-wrap class="label-title">Contact Name</ion-label>
          </ion-col>
          <ion-col col-7 no-padding>
            <ion-input [(ngModel)]="contnam" formControlName="contname" type="text" placeholder="Contact Name"></ion-input>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-badge ion-text [hidden]="contname.untouched || contname.valid" *ngIf="contname.hasError('required') && contname.touched" float-end>Contact name is required</ion-badge>

      <ion-grid no-padding>
        <ion-row no-padding>
          <ion-col col-45 no-padding>
            <ion-label no-padding text-wrap class="label-title">Tel.</ion-label>
          </ion-col>
          <ion-col col-7 no-padding>
            <ion-input [(ngModel)]="tele" formControlName="tel" type="tel" placeholder="Tel."></ion-input>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-badge ion-text [hidden]="tel.untouched || tel.valid" *ngIf="tel.hasError('required') && tel.touched" float-end>Tel. is required</ion-badge>

      <ion-grid no-padding>
        <ion-row no-padding>
          <ion-col col-45 no-padding>
            <ion-label no-padding text-wrap class="label-title">Shipper Reference</ion-label>
          </ion-col>
          <ion-col col-7 no-padding>
            <ion-input [(ngModel)]="ref" formControlName="rmk" type="text" placeholder="Shipper Reference"></ion-input>
          </ion-col>
        </ion-row>
      </ion-grid>

    </ion-list>
    <button type="submit" [disabled]="courier.invalid || pickupadd == null" ion-button icon-right block >
      Next
      <ion-icon ios="ios-arrow-forward" md="md-arrow-forward"></ion-icon>
    </button>
  </form>

</ion-content>


