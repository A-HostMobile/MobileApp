<ion-header>
  <ion-navbar>
    <ion-buttons start>
      <button ion-button (click)="closemodal()">
        <span ion-text>Close</span>
      </button>
    </ion-buttons>
    <ion-title>{{StatusText}}</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
<form #citem="ngForm" novalidate>

  <ion-list no-lines >
    <ion-item no-padding>
        <ion-label no-padding col-6>Commodity</ion-label>
        <ion-select [(ngModel)]="item.commodity" name="commodity" #commodity="ngModel" placeholder="Please Select" (ionCancel)="touch()" (ionChange)="checkDimension(item.commodity)" required>
           <ion-option *ngFor="let commodity of commodities" [value]="commodity.qc_lookup_code" [selected]="commodity.qc_lookup_code == item.commodity">{{commodity.qc_lookup_value1}}</ion-option>
        </ion-select>
    </ion-item>
    <ion-badge ion-text *ngIf="selectcancel" [hidden]="citem.value.commodity!=null" float-end>Commodity is required</ion-badge>
  </ion-list>

  <ion-list no-lines>
    <ion-list-header>
      <h4 no-padding col-6>Dimension</h4>
    </ion-list-header>

    <ion-item no-padding>
      <ion-label no-padding col-3>Width </ion-label>
      <ion-label no-padding col-1>x</ion-label>
      <ion-label no-padding col-3>Length</ion-label>
      <ion-label no-padding col-1>x</ion-label>
      <ion-label no-padding col-3>Height</ion-label>
    </ion-item>

    <ion-row>
      <ion-input col [(ngModel)]="item.dwidth" name="dwidth" #dwidth="ngModel" type="number" [value]="item.dwidth" placeholder="Width" [readonly]="fixDimension" required></ion-input>
      <p col-1>x</p>
      <ion-input col [(ngModel)]="item.dlength" name="dlength" #dlength="ngModel" type="number" [value]="item.dlength" placeholder="Length" [readonly]="fixDimension" required></ion-input>
      <p col-1>x</p>
     <ion-input col [(ngModel)]="item.dheight" name="dheight" #dheight="ngModel" type="number" [value]="item.dheight" placeholder="Height" [readonly]="fixDimension" required></ion-input>
    </ion-row>
    

    <ion-badge ion-text *ngIf="dwidth.invalid" [hidden]="!dwidth.touched || fixDimension" float-end>Height is required</ion-badge>
    <ion-badge ion-text *ngIf="dlength.invalid" [hidden]="!dlength.touched || fixDimension" float-end>Length is required</ion-badge>
    <ion-badge ion-text *ngIf="dheight.invalid" [hidden]="!dheight.touched || fixDimension" float-end>Width is required</ion-badge>
  </ion-list>

  <ion-list no-lines>
    <ion-item no-padding>
      <ion-label no-padding col-6>Weight : </ion-label>
      <ion-input [(ngModel)]="item.weight" name="weight" #weight="ngModel" type="number" [value]="item.weight" placeholder="Weight" required></ion-input>
      <ion-note item-end>
        Kgs.
      </ion-note>
    </ion-item>
    <ion-badge ion-text *ngIf="weight.invalid" [hidden]="!weight.touched" float-end="">Weight is required</ion-badge>

    <ion-item no-padding>
      <ion-label no-padding col-6>Quantity : </ion-label>
      <ion-input [(ngModel)]="item.quantity" name="quantity" #quantity="ngModel" type="number" [value]="item.quantity" placeholder="Quantity" required></ion-input>
    </ion-item>
    <ion-badge ion-text *ngIf="quantity.invalid" [hidden]="!quantity.touched" float-end>Quantity is required</ion-badge>

  </ion-list>



  <button *ngIf="type == 'Add'" (click)="addItem(citem)" [disabled]="!citem.form.valid" ion-button block >
    {{type}} 
  </button>
  <button *ngIf="type == 'Edit'" (click)="editItem(citem)" [disabled]="!citem.form.valid" ion-button block >
    {{type}} 
  </button>

  </form>

</ion-content>
